{"ast":null,"code":"export function reducer(state, _ref) {\n  let {\n    type,\n    payload\n  } = _ref;\n  switch (type) {\n    case \"ADD_TO_BASKET\":\n      {\n        const itemIndex = state.order.findIndex(orderItem => orderItem.id === payload.id);\n        let newOrder = null;\n        if (itemIndex < 0) {\n          const newItem = {\n            ...payload,\n            quantity: 1\n          };\n          newOrder = [...state.order, newItem];\n        } else {\n          newOrder = state.order.map((orderItem, index) => {\n            if (index === itemIndex) {\n              return {\n                ...orderItem,\n                quantity: orderItem.quantity + 1\n              };\n            } else {\n              return orderItem;\n            }\n          });\n        }\n        return {\n          ...state,\n          order: newOrder\n        };\n      }\n    case \"TOGGLE_BASKET_SHOW\":\n      {\n        return {\n          ...state,\n          isBasketShow: !state.isBasketShow\n        };\n      }\n    case \"INCREMENT_QUANTITY\":\n      {\n        return {\n          ...state,\n          order: state.order.map(el => {\n            if (el.id === payload.id) {\n              const newQuantity = el.quantity + 1;\n              return {\n                ...el,\n                quantity: newQuantity\n              };\n            } else {\n              return el;\n            }\n          })\n        };\n      }\n    case \"DEKROMENT_QUANTITY\":\n      {\n        return {\n          ...state,\n          order: state.order.map(el => {\n            if (el.id === payload.id) {\n              const newQuantity = el.quantity - 1;\n              return {\n                ...el,\n                quantity: newQuantity >= 0 ? newQuantity : 0\n              };\n            } else {\n              return el;\n            }\n          })\n        };\n      }\n    case \"REMOVE_FROM_BASKET\":\n      {\n        return {\n          ...state,\n          order: state.order.filter(item => item.id !== payload.id)\n        };\n      }\n    case \"SET_PRODUCTS\":\n      {\n        console.log(\"prodduct updates\");\n        return {\n          ...state,\n          products: payload || [],\n          loading: false\n        };\n      }\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["reducer","state","type","payload","itemIndex","order","findIndex","orderItem","id","newOrder","newItem","quantity","map","index","isBasketShow","el","newQuantity","filter","item","console","log","products","loading"],"sources":["C:/Users/User/Desktop/public/src/reducer.js"],"sourcesContent":["export function reducer(state, { type, payload }) {\r\n  switch (type) {\r\n    case \"ADD_TO_BASKET\": {\r\n      const itemIndex = state.order.findIndex(\r\n        (orderItem) => orderItem.id === payload.id\r\n      );\r\n      let newOrder = null;\r\n      if (itemIndex < 0) {\r\n        const newItem = {\r\n          ...payload,\r\n          quantity: 1,\r\n        };\r\n        newOrder = [...state.order, newItem];\r\n      } else {\r\n        newOrder = state.order.map((orderItem, index) => {\r\n          if (index === itemIndex) {\r\n            return {\r\n              ...orderItem,\r\n              quantity: orderItem.quantity + 1,\r\n            };\r\n          } else {\r\n            return orderItem;\r\n          }\r\n        });\r\n      }\r\n      return { ...state, order: newOrder };\r\n    }\r\n    case \"TOGGLE_BASKET_SHOW\": {\r\n      return {\r\n        ...state,\r\n        isBasketShow: !state.isBasketShow,\r\n      };\r\n    }\r\n    case \"INCREMENT_QUANTITY\": {\r\n      return {\r\n        ...state,\r\n        order: state.order.map((el) => {\r\n          if (el.id === payload.id) {\r\n            const newQuantity = el.quantity + 1;\r\n            return {\r\n              ...el,\r\n              quantity: newQuantity,\r\n            };\r\n          } else {\r\n            return el;\r\n          }\r\n        }),\r\n      };\r\n    }\r\n    case \"DEKROMENT_QUANTITY\": {\r\n      return {\r\n        ...state,\r\n        order: state.order.map((el) => {\r\n          if (el.id === payload.id) {\r\n            const newQuantity = el.quantity - 1;\r\n            return {\r\n              ...el,\r\n              quantity: newQuantity >= 0 ? newQuantity : 0,\r\n            };\r\n          } else {\r\n            return el;\r\n          }\r\n        }),\r\n      };\r\n    }\r\n    case \"REMOVE_FROM_BASKET\": {\r\n      return {\r\n        ...state,\r\n        order: state.order.filter((item) => item.id !== payload.id),\r\n      };\r\n    }\r\n    case \"SET_PRODUCTS\": {\r\n      console.log(\"prodduct updates\");\r\n      return {\r\n        ...state,\r\n        products: payload || [],\r\n        loading: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,SAASA,OAAO,CAACC,KAAK,QAAqB;EAAA,IAAnB;IAAEC,IAAI;IAAEC;EAAQ,CAAC;EAC9C,QAAQD,IAAI;IACV,KAAK,eAAe;MAAE;QACpB,MAAME,SAAS,GAAGH,KAAK,CAACI,KAAK,CAACC,SAAS,CACpCC,SAAS,IAAKA,SAAS,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAC3C;QACD,IAAIC,QAAQ,GAAG,IAAI;QACnB,IAAIL,SAAS,GAAG,CAAC,EAAE;UACjB,MAAMM,OAAO,GAAG;YACd,GAAGP,OAAO;YACVQ,QAAQ,EAAE;UACZ,CAAC;UACDF,QAAQ,GAAG,CAAC,GAAGR,KAAK,CAACI,KAAK,EAAEK,OAAO,CAAC;QACtC,CAAC,MAAM;UACLD,QAAQ,GAAGR,KAAK,CAACI,KAAK,CAACO,GAAG,CAAC,CAACL,SAAS,EAAEM,KAAK,KAAK;YAC/C,IAAIA,KAAK,KAAKT,SAAS,EAAE;cACvB,OAAO;gBACL,GAAGG,SAAS;gBACZI,QAAQ,EAAEJ,SAAS,CAACI,QAAQ,GAAG;cACjC,CAAC;YACH,CAAC,MAAM;cACL,OAAOJ,SAAS;YAClB;UACF,CAAC,CAAC;QACJ;QACA,OAAO;UAAE,GAAGN,KAAK;UAAEI,KAAK,EAAEI;QAAS,CAAC;MACtC;IACA,KAAK,oBAAoB;MAAE;QACzB,OAAO;UACL,GAAGR,KAAK;UACRa,YAAY,EAAE,CAACb,KAAK,CAACa;QACvB,CAAC;MACH;IACA,KAAK,oBAAoB;MAAE;QACzB,OAAO;UACL,GAAGb,KAAK;UACRI,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAACO,GAAG,CAAEG,EAAE,IAAK;YAC7B,IAAIA,EAAE,CAACP,EAAE,KAAKL,OAAO,CAACK,EAAE,EAAE;cACxB,MAAMQ,WAAW,GAAGD,EAAE,CAACJ,QAAQ,GAAG,CAAC;cACnC,OAAO;gBACL,GAAGI,EAAE;gBACLJ,QAAQ,EAAEK;cACZ,CAAC;YACH,CAAC,MAAM;cACL,OAAOD,EAAE;YACX;UACF,CAAC;QACH,CAAC;MACH;IACA,KAAK,oBAAoB;MAAE;QACzB,OAAO;UACL,GAAGd,KAAK;UACRI,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAACO,GAAG,CAAEG,EAAE,IAAK;YAC7B,IAAIA,EAAE,CAACP,EAAE,KAAKL,OAAO,CAACK,EAAE,EAAE;cACxB,MAAMQ,WAAW,GAAGD,EAAE,CAACJ,QAAQ,GAAG,CAAC;cACnC,OAAO;gBACL,GAAGI,EAAE;gBACLJ,QAAQ,EAAEK,WAAW,IAAI,CAAC,GAAGA,WAAW,GAAG;cAC7C,CAAC;YACH,CAAC,MAAM;cACL,OAAOD,EAAE;YACX;UACF,CAAC;QACH,CAAC;MACH;IACA,KAAK,oBAAoB;MAAE;QACzB,OAAO;UACL,GAAGd,KAAK;UACRI,KAAK,EAAEJ,KAAK,CAACI,KAAK,CAACY,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACV,EAAE,KAAKL,OAAO,CAACK,EAAE;QAC5D,CAAC;MACH;IACA,KAAK,cAAc;MAAE;QACnBW,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC/B,OAAO;UACL,GAAGnB,KAAK;UACRoB,QAAQ,EAAElB,OAAO,IAAI,EAAE;UACvBmB,OAAO,EAAE;QACX,CAAC;MACH;IACA;MACE,OAAOrB,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module"}